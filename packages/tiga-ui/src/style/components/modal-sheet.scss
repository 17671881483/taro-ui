@import '../variables/default.scss';
@import '../mixins/index.scss';

$at-action-sheet-duration: 300ms;
$at-dialog-header-v-gap: (20px - 14px) / 2;
$at-dialog-item-v-gap: (22px - 16px) / 2;

.at-modal-sheet {
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  z-index: $zindex-action-sheet;

  /*  #ifndef  rn  */
  position: fixed;
  visibility: hidden;
  transition: visibility $at-action-sheet-duration $timing-func;
  /*  #endif  */

  /* elements */
  &__overlay {
    @include overlay;

    opacity: 0;

    /*  #ifndef  rn  */
    transition: opacity $at-action-sheet-duration $timing-func;
    /*  #endif  */

  }

  &__container {
    position: absolute;
    // padding: $spacing-v-sm $spacing-h-xl;

    /*  #ifndef  rn  */
    padding-bottom: constant(safe-area-inset-bottom);
    padding-bottom: env(safe-area-inset-bottom);
    /*  #endif  */

    bottom: 0;
    width: 100%;
    text-align: center;
    background-color: $color-bg-base;

    /*  #ifndef  rn  */
    min-height: 40%;
    max-height: 70%;
    transform: translate3d(0, 100%, 0);
    // transition: transform $at-action-sheet-duration $timing-func;
    transition: transform $at-action-sheet-duration ease-in;
    /*  #endif  */

    box-sizing: border-box;
  }

  &__header {
    @include display-flex();
    @include hairline-bottom-relative();

    padding: $spacing-v-lg 0;
    // text-align: center;
    // color: $color-text-subtle;
    // background-color: $color-border-base;

    &--action {
      @include display-flex();
      box-sizing: border-box;
      width: 116px;

      &__cancel {
        @include font(18px, 18px);
        margin-left: $spacing-h-lg;
        color: $color-brand;
      }

      &__reset {
        @include font(18px, 18px);
        margin-left: $spacing-h-lg;
        color: $color-brand;
      }

      &__confirm {
        @include font(18px, 18px);

        justify-content: flex-end;
        padding-right: $spacing-h-lg;
        color: $color-brand;
      }
    }

    &--close {
      width: 50px;
      padding-left: $spacing-h-lg;
      line-height: 18px;
    }

    &--title {
      @include font(18px, 18px);
      @include line();

      flex: 1;
      text-align: center;
    }
  }

  &__footer {
    @include font(16px, 16px);
    @include active();

    padding: $spacing-v-lg $spacing-h-xl;
    border-top: 8px solid $color-border-base;
    text-align: center;
    color: $color-text-base;
  }

  &__body {
    padding: $spacing-v-sm 0;
  }

  /* modifiers */
  /*  #ifndef  rn  */
  &--active {
    visibility: visible;

    .at-modal-sheet__overlay {
      opacity: 1;
    }

    .at-modal-sheet__container {
      transform: translate3d(0, 0, 0);
    }
  }
  /*  #endif  */
}
